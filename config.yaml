# Hand Tracking Settings
hand_tracking:
  # Detection and tracking confidence thresholds (0.0-1.0)
  detection_confidence: 0.7
  tracking_confidence: 0.7
  
  # Model complexity: 0 (lite) or 1 (full)
  model_complexity: 0
  
  # Maximum number of hands to detect (1)
  max_num_hands: 1

# Cursor Control Settings (NEW - Relative Mode)
cursor_control:
  # Control mode: "relative" (mouse-like) or "absolute" (legacy)
  control_mode: "relative"

  # Base sensitivity (higher = larger pixels per same hand movement)
  sensitivity: 2.4

  # Nonlinear acceleration: gain *= (1 + acceleration * speed^accel_exponent)
  acceleration: 1.5
  accel_exponent: 1.4
  max_gain: 8.0

  # Precision at low speed: reduce gain below this speed for fine targeting
  low_speed_threshold: 0.15     # normalized units per second
  low_speed_boost: 0.55         # <1.0 tightens control near target

  # Jitter handling
  deadzone_norm: 0.006          # ignore tiny normalized deltas
  stabilizer_enabled: true
  stabilizer_alpha: 0.25        # EMA on deltas (lower = smoother)
  
  # How often (seconds) to re-check for monitor layout changes
  display_refresh_seconds: 5.0

  # --- Legacy absolute mode options (now unused) ---
  # smoothing_filter: "kalman"
  # kalman_process_noise: 0.1
  # kalman_measurement_noise: 4.0
  # moving_average_window: 5
  # speed_multiplier: 1.0 # Replaced by sensitivity

# Gesture Detection Settings (NEW - Adaptive/Ratio-based)
gesture_detection:
  # Debounce timings in milliseconds
  click_debounce_ms: 120      # Minimum time between click events
  
  # Minimum time finger distance must remain closed before we accept a pinch edge
  min_press_ms: 60
  
  # EMA smoothing factor for distances (lower -> more smoothing)
  ema_alpha: 0.25
  
  # Hysteresis on distance ratio (relative to adaptive open-hand baseline)
  # Pinch when ratio <= in_ratio, release when ratio >= out_ratio
  pinch_in_ratio: 0.35
  pinch_out_ratio: 0.55
  
  # Ignore trivial closings (avoid clicks if there's still a visible gap)
  min_close_ratio: 0.25
  
  # --- Legacy absolute mode options (now unused) ---
  # pinch_threshold_min: 3.0
  # pinch_threshold_max: 4.0
  # three_finger_pinch_min: 3.5
  # three_finger_pinch_max: 4.5
  # zoom_distance_delta_cm: 1.5
  # scroll_distance_threshold_px: 50

# Performance Settings
performance:
  target_fps: 30
  enable_multithreading: true
  processing_scale: 1.0
  frame_skip: 1
  power_saving_mode: false

# Visual Feedback Settings
visualization:
  show_hand_skeleton: true
  show_landmarks: true
  show_gesture_indicators: true
  show_cursor_position: true
  show_performance_metrics: false
  text_color: [0, 255, 0]
  skeleton_color: [255, 0, 0]
  landmark_size: 4

# System Settings
system:
  log_level: "INFO"
  log_file: "gestureglide.log"
  debug_mode: false
  quit_key: "esc"

# Advanced Settings
advanced:
  max_queue_depth: 2
  thread_pool_size: 0
  experimental_features: false